"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[540],{7145:function(e,n,a){a.r(n),a.d(n,{_frontmatter:function(){return p},default:function(){return h}});var t=a(58168),s=a(80045),o=(a(88763),a(15680)),i=a(83407);const d=["components"],p={},r=e=>function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.mdx)("div",n)},m=r("CodeBlock"),l=r("InlineAlert"),c={_frontmatter:p},u=i.A;function h(e){let{components:n}=e,a=(0,s.A)(e,d);return(0,o.mdx)(u,(0,t.A)({},c,a,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"generate-3d-object-composite"},"Generate 3D Object Composite"),(0,o.mdx)("p",null,"Combine 3D objects with AI-generated content using the ",(0,o.mdx)("a",{parentName:"p",href:"/ffs-s3d-api/api/#tag/Composites/operation/composeImage_v1"},"Generate 3D Object Composite API"),"."),(0,o.mdx)("h2",{id:"overview"},"Overview"),(0,o.mdx)("p",null,"Learn how to create compelling images by combining 3D models with AI-generated content using the ",(0,o.mdx)("a",{parentName:"p",href:"/ffs-s3d-api/api/#tag/Composites/operation/composeImage_v1"},"Generate 3D Object Composite API"),". This guide walks you through the process of uploading assets, configuring compositing parameters, and generating final images."),(0,o.mdx)("p",null,(0,o.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,o.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"57.1875%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,o.mdx)("picture",{parentName:"span"},"\n          ",(0,o.mdx)("source",{parentName:"picture",srcSet:["/ffs-s3d-api/static/a12b81c12c1e47166985347cde4e2206/5530d/compositing.webp 320w","/ffs-s3d-api/static/a12b81c12c1e47166985347cde4e2206/0c8fb/compositing.webp 640w","/ffs-s3d-api/static/a12b81c12c1e47166985347cde4e2206/94b1e/compositing.webp 1280w","/ffs-s3d-api/static/a12b81c12c1e47166985347cde4e2206/0b34d/compositing.webp 1920w","/ffs-s3d-api/static/a12b81c12c1e47166985347cde4e2206/d5269/compositing.webp 2560w","/ffs-s3d-api/static/a12b81c12c1e47166985347cde4e2206/99ebf/compositing.webp 2688w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,o.mdx)("source",{parentName:"picture",srcSet:["/ffs-s3d-api/static/a12b81c12c1e47166985347cde4e2206/dd4a7/compositing.png 320w","/ffs-s3d-api/static/a12b81c12c1e47166985347cde4e2206/0f09e/compositing.png 640w","/ffs-s3d-api/static/a12b81c12c1e47166985347cde4e2206/bbbf7/compositing.png 1280w","/ffs-s3d-api/static/a12b81c12c1e47166985347cde4e2206/ac7a9/compositing.png 1920w","/ffs-s3d-api/static/a12b81c12c1e47166985347cde4e2206/c7a69/compositing.png 2560w","/ffs-s3d-api/static/a12b81c12c1e47166985347cde4e2206/7c704/compositing.png 2688w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,o.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/ffs-s3d-api/static/a12b81c12c1e47166985347cde4e2206/bbbf7/compositing.png",alt:"Generate 3D Object Composite",title:"Generate 3D Object Composite",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,o.mdx)("h2",{id:"prerequisites"},"Prerequisites"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"You'll need a Substance 3D API ",(0,o.mdx)("strong",{parentName:"li"},"Client ID")," and ",(0,o.mdx)("strong",{parentName:"li"},"Access Token"),". learn how to retrieve them in the ",(0,o.mdx)("a",{parentName:"li",href:"/ffs-s3d-api/getting_started"},"Authentication Guide"),"."),(0,o.mdx)("li",{parentName:"ul"},"A command line tool to transfer data, such as ",(0,o.mdx)("a",{parentName:"li",href:"https://curl.se/download.html"},"cURL"),".")),(0,o.mdx)("h2",{id:"step-1---upload-source-assets"},"Step 1 - Upload source assets"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Download the sample assets:"),(0,o.mdx)("ul",{parentName:"li"},(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("a",{parentName:"li",href:"https://cdn.substance3d.com/v2/files/public/compositing_table_bottle.glb"},"3D Scene (compositing_table_bottle.glb)")))),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"To upload the 3D scene file to a new ",(0,o.mdx)("a",{parentName:"p",href:"../../getting_started/assets_upload/index.md#using-spaces"},"digital storage ",(0,o.mdx)("strong",{parentName:"a"},"Space")),", use the ",(0,o.mdx)("inlineCode",{parentName:"p"},"/spaces")," endpoint and define the asset as a ",(0,o.mdx)("inlineCode",{parentName:"p"},"--form")," parameter in the request.\nRun the following command to create the new Space:"))),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-sh"},"curl --url https://s3d.adobe.io/v1/spaces \\\n--header 'Authorization: Bearer $S3D_FF_SERVICES_ACCESS_TOKEN' \\\n--form '.=\"@compositing_table_bottle.glb\"'\n")),(0,o.mdx)("p",null,"The result is a JSON response that contains the ",(0,o.mdx)("inlineCode",{parentName:"p"},"id")," of the new Space.\nThis ID is the assets' ",(0,o.mdx)("em",{parentName:"p"},"source")," in the job definition."),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Sample Response")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "{GENERATED_SPACE_ID}",\n  "files": [...],\n  ...\n}\n')),(0,o.mdx)("h2",{id:"step-2---define-assets-sources"},"Step 2 - Define assets sources"),(0,o.mdx)("p",null,"Create a ",(0,o.mdx)("em",{parentName:"p"},"payload.json")," file and reference the Space ID (",(0,o.mdx)("inlineCode",{parentName:"p"},"<generated_space_id>"),") in the ",(0,o.mdx)("inlineCode",{parentName:"p"},"sources")," array:"),(0,o.mdx)(m,{slots:"heading, code",languages:"JSON",mdxType:"CodeBlock"}),(0,o.mdx)("p",null,(0,o.mdx)("em",{parentName:"p"},"payload.json")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "sources": [\n    {\n      "space": {\n        "id": "<generated_space_id>"\n      }\n    }\n  ]\n}\n')),(0,o.mdx)("h2",{id:"step-3---set-the-compositing-parameters"},"Step 3 - Set the compositing parameters"),(0,o.mdx)("p",null,"To perform a compositing job, define:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"The ",(0,o.mdx)("strong",{parentName:"li"},"hero asset name")," (the asset that should be rendered) from your scene file. ",(0,o.mdx)("inlineCode",{parentName:"li"},"bottle")," in this example."),(0,o.mdx)("li",{parentName:"ul"},"The ",(0,o.mdx)("strong",{parentName:"li"},"camera name")," from your scene file. ",(0,o.mdx)("inlineCode",{parentName:"li"},"main_camera")," in this example."),(0,o.mdx)("li",{parentName:"ul"},"A ",(0,o.mdx)("strong",{parentName:"li"},"prompt")," that describes the content of the AI-generated environment that will be composited with your 3D asset.")),(0,o.mdx)(l,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"If your 3D scene contains multiple models, only the one marked as the ",(0,o.mdx)("strong",{parentName:"p"},"hero asset")," is rendered.\nAdditional models are used as ",(0,o.mdx)("em",{parentName:"p"},"structural reference templates")," to influence the composition of the AI-generated environment."),(0,o.mdx)("p",null,"In this example, the 3D scene contains two models:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"a ",(0,o.mdx)("inlineCode",{parentName:"li"},"bottle")," model (",(0,o.mdx)("em",{parentName:"li"},"hero asset"),") to be rendered."),(0,o.mdx)("li",{parentName:"ul"},"a ",(0,o.mdx)("inlineCode",{parentName:"li"},"table")," model, used to match the 3D scene layout in the generated background image.")),(0,o.mdx)("p",null,"With this information, append the following parameters to your ",(0,o.mdx)("inlineCode",{parentName:"p"},"payload.json")," file:"),(0,o.mdx)(m,{slots:"heading, code",languages:"JSON",mdxType:"CodeBlock"}),(0,o.mdx)("p",null,(0,o.mdx)("em",{parentName:"p"},"payload.json")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "sources": [\n    {\n      "space": {\n        "id": "<generated_space_id>"\n      }\n    }\n  ],\n  "heroAsset": "bottle",\n  "cameraName": "main_camera",\n  "prompt": "french style kitchen with empty wooden table window on the left focal length 50mm"\n}\n')),(0,o.mdx)("h2",{id:"step-4---execute-the-api-request"},"Step 4 - Execute the API request"),(0,o.mdx)("p",null,"It's time to execute the compositing API request, using the job definition from your ",(0,o.mdx)("inlineCode",{parentName:"p"},"payload.json")," file."),(0,o.mdx)("p",null,"Send a request to the ",(0,o.mdx)("a",{parentName:"p",href:"../../api/index.md"},"Compose API"),":"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-sh"},"curl -vX POST https://s3d.adobe.io/v1/composites/compose \\\n-d @payload.json \\\n--header \"Content-Type: application/json\" \\\n--header 'Authorization: Bearer $S3D_FF_SERVICES_ACCESS_TOKEN'\n")),(0,o.mdx)("p",null,"The response will be similar to this:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "$schema": "https://s3d.adobe.io/schemas/ComposeSceneResponse.json",\n  "url": "https://s3d.adobe.io/v1/jobs/1727790895129-0", // The URL to poll the job\'s status and result\n  "id": "1727790895129-0", // A unique identifier for the job\n  "status": "running"\n}\n')),(0,o.mdx)("h2",{id:"step-5---download-the-rendered-images"},"Step 5 - Download the rendered images"),(0,o.mdx)("p",null,"After sending the API request, you'll obtain a response containing an URL that can be used to fetch the job's progress and result."),(0,o.mdx)("p",null,"Since ",(0,o.mdx)("a",{parentName:"p",href:"../../getting_started/asynchronous_jobs/"},"jobs are asynchronous"),", their result isn't available immediately.\nThe job URL must be polled until the status indicates either ",(0,o.mdx)("inlineCode",{parentName:"p"},"succeeded")," or ",(0,o.mdx)("inlineCode",{parentName:"p"},"failed"),"."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-sh"},"curl --url {JOB_URL} \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $S3D_FF_SERVICES_ACCESS_TOKEN'\n")),(0,o.mdx)("p",null,"If the job succeeds, the response will contain an additional ",(0,o.mdx)("inlineCode",{parentName:"p"},"result")," property with information about the generated resources."),(0,o.mdx)(m,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,o.mdx)("p",null,"Response (succeeded)"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "$schema": "https://s3d.adobe.io/schemas/ComposeSceneResponse.json",\n  "url": "https://s3d.adobe.io/v1/jobs/1727790895129-0",\n  "id": "1727790895129-0",\n  "status": "succeeded",\n  "result": {\n    "outputs:": [\n      {\n        "image": {\n          "seed": 63000,\n          "url": "https://s3d.adobe.io/v1/spaces/s-b93fa62b-6ba8-4ca6-842d-898057bf5dbc/files/render0000.png?x-s3d-presigned-token=<auto_generated_token>"\n        },\n        ...\n      }\n    ],\n    "promptHasDeniedWords": false,\n    "promptHasBlockedArtists": false,\n    "outputSpace": {\n      "url": "https://s3d.adobe.io/v1/spaces/s-b93fa62b-6ba8-4ca6-842d-898057bf5dbc",\n      "id": "s-b93fa62b-6ba8-4ca6-842d-898057bf5dbc",\n      "archiveUrl": "https://s3d.adobe.io/v1/presigned-spaces/s-b93fa62b-6ba8-4ca6-842d-898057bf5dbc/zip?x-s3d-presigned-token=<auto_generated_token>",\n      "files": [\n        {\n          "name": "render0000.png",\n          "size": 3894406,\n          "url": "https://s3d.adobe.io/v1/spaces/s-b93fa62b-6ba8-4ca6-842d-898057bf5dbc/files/render0000.png?x-s3d-presigned-token=<auto_generated_token>"\n        },\n        ...\n      ]\n    }\n  }\n}\n')),(0,o.mdx)("p",null,"Response (failed)"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "$schema": "https://s3d.adobe.io/schemas/ComposeSceneResponse.json",\n  "url": "https://s3d.adobe.io/v1/jobs/1727790895129-0",\n  "id": "1727790895129-0",\n  "status": "failed",\n  "error": "error message"\n}\n')),(0,o.mdx)("p",null,"To download the rendered images, you can use the pre-signed URLs included in the response (",(0,o.mdx)("inlineCode",{parentName:"p"},"result.outputs[].image.url"),"), or find the rendered images URL from the list of files in the response (",(0,o.mdx)("inlineCode",{parentName:"p"},"result.outputSpace.files[].url"),")."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-sh"},"curl -O --url https://s3d.adobe.io/v1/spaces/s-b93fa62b-6ba8-4ca6-842d-898057bf5dbc/files/render0000.png?x-s3d-presigned-token=<auto_generated_token>\n")),(0,o.mdx)("h2",{id:"deepen-your-understanding"},"Deepen your understanding"),(0,o.mdx)("p",null,"Now that you completed this tutorial, visit its ",(0,o.mdx)("a",{parentName:"p",href:"/ffs-s3d-api/api/#tag/Composites/operation/composeImage_v1"},"API Reference")," to explore more advanced use cases of 2D/3D compositing."))}h.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-generate-3-d-object-composite-index-md-8ff266729d73d328f6d6.js.map