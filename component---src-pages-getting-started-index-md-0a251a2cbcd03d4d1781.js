"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[474],{86282:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return d},default:function(){return p}});var a=n(58168),o=n(80045),s=(n(88763),n(15680)),r=n(83407);const l=["components"],d={},i={_frontmatter:d},c=r.A;function p(e){let{components:t}=e,n=(0,o.A)(e,l);return(0,s.mdx)(c,(0,a.A)({},i,n,{components:t,mdxType:"MDXLayout"}),(0,s.mdx)("h1",{id:"authentication"},"Authentication"),(0,s.mdx)("p",null,"Learn how to authenticate requests to Substance 3D APIs."),(0,s.mdx)("h2",{id:"overview"},"Overview"),(0,s.mdx)("p",null,"Every request made to Substance 3D APIs must include an encrypted access token."),(0,s.mdx)("p",null,"Your secure, server-side application retrieves an access token by making a request to the ",(0,s.mdx)("a",{parentName:"p",href:"https://www.adobe.com/content/dam/cc/en/trust-center/ungated/whitepapers/corporate/adobe-identity-management-services-security-overview.pdf"},"Adobe Identity Management System (IMS)")," with your ",(0,s.mdx)("strong",{parentName:"p"},"Client ID")," and ",(0,s.mdx)("strong",{parentName:"p"},"Client Secret"),"."),(0,s.mdx)("h2",{id:"prerequisites"},"Prerequisites"),(0,s.mdx)("p",null,"This tutorial assumes you have worked with your Adobe Representative and have the following:"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"An ",(0,s.mdx)("a",{parentName:"li",href:"https://developer.adobe.com/"},"Adobe Developer Console")," account."),(0,s.mdx)("li",{parentName:"ul"},"A ",(0,s.mdx)("a",{parentName:"li",href:"https://developer.adobe.com/developer-console/docs/guides/projects/projects-empty/"},"project")," with Substance 3D API ",(0,s.mdx)("a",{parentName:"li",href:"https://developer.adobe.com/developer-console/docs/guides/services/services-add-api-oauth-s2s/"},"OAuth Server-to-Server credentials set up"),"."),(0,s.mdx)("li",{parentName:"ul"},"Access to your ",(0,s.mdx)("strong",{parentName:"li"},"Client ID")," and ",(0,s.mdx)("strong",{parentName:"li"},"Client Secret")," from the ",(0,s.mdx)("a",{parentName:"li",href:"https://developer.adobe.com/developer-console/docs/guides/services/services-add-api-oauth-s2s/#api-overview"},"Adobe Developer Console project"),". Securely store these credentials and never expose them in client-side or public code.")),(0,s.mdx)("h2",{id:"retrieve-an-access-token"},"Retrieve an access token"),(0,s.mdx)("p",null,"A temporary access token validates calls to the API. ",(0,s.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/developer-console/docs/guides/services/services-add-api-oauth-s2s#generate-token"},"This token can be generated directly in the Developer Console"),",\nor it can be generated programmatically by following the steps below."),(0,s.mdx)("ol",null,(0,s.mdx)("li",{parentName:"ol"},"First, open a secure terminal and export your ",(0,s.mdx)("strong",{parentName:"li"},"Client ID")," and ",(0,s.mdx)("strong",{parentName:"li"},"Client Secret")," as environment variables so that later commands can access them:")),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"export S3D_FF_SERVICES_CLIENT_ID=<Your_Client_ID>\nexport S3D_FF_SERVICES_CLIENT_SECRET=<Your_Client_Secret>\n")),(0,s.mdx)("ol",{start:2},(0,s.mdx)("li",{parentName:"ol"},"Next, run the following command to generate an access token:")),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"curl --location 'https://ims-na1.adobelogin.com/ims/token/v3' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'grant_type=client_credentials' \\\n--data-urlencode \"client_id=$S3D_FF_SERVICES_CLIENT_ID\" \\\n--data-urlencode \"client_secret=$S3D_FF_SERVICES_CLIENT_SECRET\" \\\n--data-urlencode 'scope=openid,AdobeID,read_organizations,email,firefly_api,firefly_enterprise,profile,substance3d_api.spaces.create,substance3d_api.jobs.create'\n")),(0,s.mdx)("p",null,"The response will look like this:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "access_token": "exampleAccessTokenAsdf123",\n    "token_type": "bearer",\n    "expires_in": 86399\n}\n')),(0,s.mdx)("p",null,"The response includes an ",(0,s.mdx)("inlineCode",{parentName:"p"},"expires_in")," field with the length of time, in seconds, that the access token is valid. Each access token is valid for 24 hours, then your secure server-side application will need to request a new token. The best practice is to securely store the token and refresh it before it expires."),(0,s.mdx)("ol",{start:3},(0,s.mdx)("li",{parentName:"ol"},"Export your access token as an environment variable:")),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},"export S3D_FF_SERVICES_ACCESS_TOKEN=<Your_Access_Token>\n")),(0,s.mdx)("h2",{id:"execute-a-test-api-request"},"Execute a test API request"),(0,s.mdx)("p",null,"Let's make a test call to a Substance 3D API with the access token."),(0,s.mdx)("ol",null,(0,s.mdx)("li",{parentName:"ol"},"Make a test call to the ",(0,s.mdx)("a",{parentName:"li",href:"/ffs-s3d-api/api"},"Render Model API"),":")),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-bash"},'curl --location \'https://s3d.adobe.io/v1beta/3dmodels/render\' \\\n--header \'Content-Type: application/json\' \\\n--header \'Accept: application/json\' \\\n--header "Authorization: Bearer $S3D_FF_SERVICES_ACCESS_TOKEN" \\\n--data \'{\n    "scene": {\n      "modelFile": "DamagedHelmet.glb"\n    },\n    "sources": [\n    {\n      "url": {\n        "url": "https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Assets/main/Models/DamagedHelmet/glTF-Binary/DamagedHelmet.glb"\n      }\n    }\n  ]\n}\'\n')),(0,s.mdx)("p",null,"A successful response will look something like this:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "$schema": "https://s3d.adobe.io/schemas/RenderModelResponse.json",\n    "url": "{JOB_URL}",\n    "id": "{JOB_ID}",\n    "status": "running"\n}\n')),(0,s.mdx)("p",null,"You're authenticated!"),(0,s.mdx)("p",null,"The response is typical for an asynchronous job. You can ",(0,s.mdx)("a",{parentName:"p",href:"/ffs-s3d-api/guides/asynchronous_jobs"},"learn more about asynchronous jobs")," or ",(0,s.mdx)("a",{parentName:"p",href:"/ffs-s3d-api/guides/render_3d_model"},"explore the Render 3D Model API in the tutorial"),"."))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-getting-started-index-md-0a251a2cbcd03d4d1781.js.map